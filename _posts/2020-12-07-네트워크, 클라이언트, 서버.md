---
layout: post
title: "Network, Client, Server"
date: 2020-12-07 21:19
categories: web
author: "praconfi"
tags: web
---


컴퓨터들이 연결되면 함께 게임을 하거나 파일을 주고받는 등 상호작용을 할 수 있다. 

컴퓨터가 연결된 작은지역을 LAN(Local Area Network)라고 표현한다. 또 LAN들을 연결 해서MAN(Metropolitan Area Network)를 만들고, MAN들을 연결해서 나라와 나라를 잇는 WAN(Wide Area Network)를 만들었다. 언제부턴가는 이 신호를 무선으로 만들어 3G, 4G, 5G라는 개념이 생겨나고, 걸어다니면서 인터넷을 할 수 있는 세상이 되었다.

## 핸드폰에서 앱을 다운로드하면 일어나는일 

길거리에서 누군가가 앱을 다운로드하면 가까운 기지국으로 앱 설치 요청신호가 간다. 신호는 WAN을 따라 이동하고 최종 목적지인 컴퓨터 주소로 전달된다. 앱스토어의 경우 애플이 가지고있는 서버 컴퓨터로 가서 해당 기업이 올린 설치파일을 전송받는다. 

앱을 이용해 영상이나 사진을 을 주고받는경우에도 같은경로로 이동되는데, 앱을 개발한 회사의 서버 컴퓨터에 데이터를 저장하고, 저장된 내용을 꺼내서 전송해 주는구조이다. 

최종목적지의 컴퓨터 주소를 IP주소라고 하는데 인터넷에 접속하는 순간 PC는 현재위치에 맞는 IP주소를 갖게된다. 이는 12자리 숫자가 마침표로 구분된 모습이다. 컴퓨터가 늘어남에 따라 네부분으로 구성되어있던 IP주소가 6개로 늘어나게 되었는데 이를 IPv6라고 한다.

클라이언트(사용자)들의 요청에 응답하는 서버(공급자) 프로그램들은 보통 Linux로 돌리게 되는데 가장 큰 이유는 무료이기 때문이다. Window와 Mac이 Linux보다 비싼이유는 일반인들을 위해 그래픽UI를 추가했기 때문인데, 서버에는 GUI가 딱히 필요하지 않기 때문에 저렴하고, GUI없이 CLI 명령어로만 동작시킬 수 있다.

개인 PC로 서버를 운영하면 안전성, 초기자본 등의 문제가 있기 때문에 대신해주는 서비스가 나타난다. 이를 호스팅업체라고하는데 대표적으로 아마존의 AWS가 있다. AWS는 서버뿐아니라 다양한 솔루션을 제공해주고있다.

![Untitled](https://user-images.githubusercontent.com/64571546/102706685-87485b00-42d7-11eb-81bb-694a136f1a9a.png)


## API (Application Programming Interface)

응용 프로그램에서 사용할 수 있도록, 운영체제나 프로그래밍 언어가 제공하는 기능을 제어할 수 있게 만든 인터페이스를 말한다.

요청을 구분하고 기능(데이터를 주고받는)을 사용하기 위해 중간에 필요한 '체계'이다.

#### RESTful API

프로그래밍은 사람이 하는 일이기 때문에 몇몇 주소들은 기능이 겹칠 수 있고, 그렇게 되면 CRUD가 체계적으로 나뉘지 않을 수 있다. 좀더 체계적으로 API를 관리하기 위해 '조금더 체계적인 API'라는 사회운동이 생겨나는데 이를 (Representational State Transfer) 즉 RESTful API라고 부른다. CRUD 를 하나의 주소로 관리하고 요청을 보낼 때 다음과 같이 어떤 요청을 보냈는지 파악할 수 있는 메소드를 붙여서 전송한다. 기존의 방식보다 주소의 개수가 줄어들게 된다.

- Create : POST
- Read : Get
- Update : PUT(전체)/ PATCH(일부)
- Delete: DELETE

요청과 응답을 할때 데이터를 담는 방식 

과거에는 xml이라는 형식이 널리 쓰였지만 현재 가장 많이 쓰이는 형식은 JSON이다.

키와 밸류 쌍으로 이루어진 데이터들을 중괄호로 담고있다. 두 값은 콜론으로 구분한다.

#### 외부 API

외부의 기능이 필요한 경우 SDK(Software Development Kit) : API를 제공해주는 '다른 소프트웨어' 사용가능

기업들(네이버, 카카오 등) 서버가 제공하는 다양한 기능을 일반 사람들이 쓸 수 있게 오픈해두었는데 이를 Open API라고 한다. 광고등을 삽입해 영향력을 높일 수 있고, 특정횟수 이상은 유료화 해서 수익 모델로도 이용될 수 있다. 

## 앱,웹

애플리케이션은 설치해서 사용하는 모든 프로그램을 의미한다. 윈도우 에서는 이를 응용프로그램이라 불렀다. 스마트폰이 등장한 이후 데스크톱에 설치하는 프로그램은 응용프로그램, 스마트폰에 설치하는 프로그램은 앱 혹은 어플 혹은 애플리케이션이라고 부르게 되었다. 명칭은 다르지만 모두 같은 특징을 갖고있는 애플리케이션이다. 

앱의 버전 

1.0.0 오른쪽끝자리는 작은 변화를 의미한다., 중간숫자는 하위버전과 호환이 가능하지만 큰 변화를 의미, 왼쪽 끝자리는 하위버전과 호환이 가능하지 않은 큰 변화를 의미.

업데이트를 강제하지만 업데이트를 하지 않는 사람도 있을 수 있기 때문에 변동이 가능한 회사정책(서비스 이용가격 등)은 애플리케이션에 넣지 않고  API로 서버에서 불러오게 만든다.



# 총정리

우리는 다양한 기기를 사용한다. 스마트폰, 태블릿, 데스크톱, 노트북 등등 이 기기들의 공통점은 모두 컴퓨터라는 점이다. 컴퓨터는 CPU, 메모리, 보조기억장치(HDD, SSD)와 같은 부품을 가지고 있다. 그런 부품들을 우리가 직접 제어하면서 컴퓨터를 사용하진 않기때문에 그 역할을 대신해주는 프로그램이 있는데 그게 바로 운영체제이다. 대쵸적으로 Mac OS, iOS, 안드로이드, 윈도우 등이 있다. 이 운영체제 위에 올라가는 프로그램을 개발하는 사람을 클라이언트 개발자라고 한다. iOS개발자, 안드로이드 개발자가 있다면 클라이언트 개발자이다. 

서버사이드에는 서버컴퓨터가 있다.클라이언트와 마찬가지로 CPU, 메모리, 보조기억장치가 있다. 여기도 운영체제가 필요한데 서버에서는 리눅스를 많이 쓴다. 여러 이유가 있지만 기본적으로 안정적이고 무료이기 때문이다. 그 위에 서버 프로그램을 돌리는데 이 서버프로그램을 만들어서 서버에 올리는 사람이 서버개발자이다.

이렇게 클라이언트와 서버가 만들어지면 이 둘은 API를 통해 요청과 응답을 주고받는다. API는 양면을 가지고 있는데 기능을 제공하는 쪽은 서버이고 클라이언트는 이 기능을 사용한다. 이때 API는 특정한 주소과 메소드(POST, GET, PATCH, PUT, DELETE)로 이루어져 있고 메소드는 각각 CRUD 와 매치된다. 클라이언트가 요청을 보내면 서버는 요청이 온 곳으로 다시 응답해준다. 응답에는 성공과 실패가 있는데 성공은 200번대, 잘못된 요청을 보내면 400번대, 서버의 문제인경우 500번대 에러코드를 보낸다. 개발자들은 API문서에 이 모든내용을 정리한다. 그때문에 기획자는 API문서에 관심을 가지고 살펴볼 수 있어야 한다.

실제서비스를 개발하여 출시하는 경우 웹, iOS, 안드로이드 기반의 애플리케이션을 통해 데스크톱(PC)와 모바일로 서비스를 제공하는 회사가 있다면 적어도 4명의 개발자가 필요하다. 웹클라이언트 개발자 , iOS개발자, 안드로이드 개발자, 서버 개발자이다. 

웹개발자는 웹페이지를 만든다 HTML을 이용해서 뼈대를 잡고,  CSS를 통해 디자인을 입힌다. 그리고 JS를 통해 기능을 붙인다. 이를 빠르고 쉽게 개발하기 위해 React.js 라는 라이브러리를 사용하고 있다. 관리자 페이지도 마찬가지다 관리자 또한 서버의 기능을 사용한다는 관점에서 보면 클라이언트이다.

애플리케이션 개발자는 iOS, 안드로이드 위에 올라가는 프로그램을 각각 개발한다.  iOS는 Swift 혹은 Objective-C라는 언어를 사용한다. 그리고 애플에서 제공해주는 코코아라는 프레임워크를 사용하면 iOS위에 돌아가는 프로그램을 빠르고 쉽게 만들 수 있다. 안드로이드는 자바 혹은 코틀린이라는 언어를 사용한다.

클라에서 요청을 보내면 서버에서는 각 요청에 맞는 기능을 만든다. 각기능들은 대부분 데이터베이스를 거쳐야 한다. 이때 사용하는 언어가 SQL이다. SQL은 데이터베이스 관리시스템에 데이터를 CRUD하기 위한 언어이다.

서버 개발자는 해당 기능을 만든뒤 각기능에 맞춰 API를 만들고 API문서를 작성한다. 그럼 클라이언트 개발자는  API문서를 보며 특정주소로 요청을 보내고 응답을 받는다. 이때 소통을 통해 API문서가 수정되기도 한다. 

개발이 끝난 결과 웹과 애플리케이션은 조금 다르다.

웹은 완성결과물을 서버(아마존의 AWS)등에 올려둔다. 한대를 빌려서 여러 동작을 처리할 수도있고, 여러대를 빌릴 수도 있다. 아마존의 서버에 원본 HTML, CSS, JS가 있고, 그곳에 배포한다. 일반유저들은 특정도메인을 검색해서 페이지 원본이 있는 서버에 요청을 보낸다. 그럼 HTML부터 다운로드 된 뒤 HTML에 연결된 CSS, JS이미지, 폰트, 동영상 등의 파일이 일반 유저의 브라우저로 다운로드 된다. 그리고 이후 필요할경우 서버로 API요청을 보낸다. 

애플리케이션의 경우 

iOS개발자는 프로그램을 완성하면 앱스토어에 심사신청을 한다. 다운로드되어 설치된 애플리케이션은 필요한 경우 데이터베이스가 있는 서버에 API요청을 보낸다.

![Untitled (1)](https://user-images.githubusercontent.com/64571546/102706778-28371600-42d8-11eb-8221-1c44c1a316c7.png)


출처 : 비전공자를 위한 이해할 수 있는 IT
